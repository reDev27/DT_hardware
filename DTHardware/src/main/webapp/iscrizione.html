<!DOCTYPE html>
<html lang="it">
<head>
	<link rel="icon" href="image/logo_DT.png">
	<meta charset="utf-8">
	<title>Iscrizione</title>
</head>
<script src="libraries/Utilities.js"></script>
<link rel="stylesheet" href="animate.css">
<link rel="stylesheet" href="style.css">
<script src="libraries/jQuery_current.js"></script>
<script src="libraries/jquery-ui-1.12.1/jquery-ui.js"></script>
<link rel="stylesheet" href="libraries/jquery-ui-1.12.1/jquery-ui.css">
<script src="libraries/bootstrap-5.0.1-dist/bootstrap-5.0.1-dist/js/bootstrap.js"></script>
<link rel="stylesheet" type="text/css" href="libraries/bootstrap-5.0.1-dist/bootstrap-5.0.1-dist/css/bootstrap.css">
<body background="image/tema_verde.png">
<script>
	var checkHelp=
		{
			username: true,
			email: true,
			password: true,
			nome: true,
			cognome: true,
			ntelefono: true,
			via: true,
			numeroCivico: true,
			citta: true,
			cap: true,
			nCarta: true,
			data: true,
			cvv: true
		};
</script>
<form name="frm" action="ValidateValuesServ" method="POST" onsubmit="return checkRegisterForm(checkHelp)">
	<script>
		$( function() {
			$( "#checkCarta" ).checkboxradio();
		} );
	</script>
	<div class="container">
		<div class="top">
			<h1 id="title" class="hidden"><span id="logo">Benvenuto</span></h1>
		</div>
		<div class="login-box animated fadeInUp">
			<div class="box-header">
			<h2>Iscriviti</h2>
			</div>
			<label for="username">Username</label>
			<br/>
			<input type="text" id="username" name="username" placeholder="Username">
			<br/>
			<label for="email">Email</label>
			<br/>
			<input type="email" id="email" name="email" placeholder="Email@email.com">
			<br/>
			<label for="psw">Password</label>
			<br/>
			<input type="password" id="psw" name="psw" placeholder="Password">
			<br/>
			<label for="nome">Nome</label>
			<br/>
			<input type="text" id="nome" name="nome" placeholder="Nome">
			<br/>
			<label for="cognome">Cognome</label>
			<br/>
			<input type="text" id="cognome" name="cognome" placeholder="Cognome">
			<br/>
			<label for="ntelefono">Numero di Telefono</label>
			<br/>
			<input type="tel" id="ntelefono" name="ntelefono" placeholder="Numero di telefono">
			<br/>
			<label for="AddVia">Via</label>
			<br/>
			<input type="text" id="AddVia" name="AddVia" placeholder="via pippo">
			<br/>
			<label for="AddCivico">Numero Civico</label>
			<br/>
			<input type="text" id="AddCivico" name="AddCivico" placeholder="Numero Civico">
			<br/>
			<label for="AddCitta">Città</label>
			<br>
			<input type="text" id="AddCitta" name="AddCitta" placeholder="Città">
			<br/>
			<label for="AddCap">Codice di avviamento postale</label>
			<br/>
			<input type="text" id="AddCap" name="AddCap" placeholder="CAP">
			<br/>
			<input id="checkCarta" type="checkbox" name="checkCarta"><label for="checkCarta" style="margin-left: 5%">Carta di credito</label>
			<label for="NCarta">Numero di carta di credito</label>
			<br/>
			<input type="text" id="Ncarta" name="Ncarta" placeholder="Numero di carta di credito">
			<br/>
			<label for="scadenza">Data di scadenza carta</label>
			<br/>
			<input type="date" id="scadenza" name="scadenza" placeholder="Data di scadenza">
			<br/>
			<label for="CVV">CVV</label>
			<br>
			<input type="text" id="CVV" name="CVV" placeholder="CVV">
			<br/>
			<button id="btnInvio" type="submit">Sign In</button>
			<br/>
			<a href="login.html"><p class="small">Sei  già registrato? Accedi Qui!</p></a>

		</div>
	</div>
</form>

<script>
	$( function() {
		$( "#dialogEsito" ).dialog({autoOpen: false});
	} );
</script>

<div id="dialogEsito" title="Espressione non valida">
	<p id="esitoP"></p>
</div>

<script>

	$("#username").change(function ()
	{
		var username=document.getElementById("username").value;
		if(/\s/.test(username) || username.length>30)
		{
			document.getElementById("esitoP").innerHTML = "Username non può contenere spazi ed ha una lunghezza massima di 30 caratteri.";
			$("#dialogEsito").dialog("open");
			$("#btnInvio").prop("disabled", true);
			checkHelp.username=false;
		}
		else
		{
			if(!checkHelp.username)
			{
				checkHelp.username = true;
				$("#btnInvio").prop("disabled", false);
			}
		}
	})
	$("#psw").change(function ()
	{
		var psw=document.getElementById("psw").value;
		if(/\s/.test(psw) || !/[A-Z]+/.test(psw) || !/[a-z]+/.test(psw) || !/[0-9]+/.test(psw) || psw.length>20 && psw.length<6)
		{
			document.getElementById("esitoP").innerHTML = "Password non può contenere spazi, ha una lunghezza massima di 20 caratteri, una lunghezza minima di 6 caratteri, " +
				"Deve contenere almeno una lettera maiuscola, una minuscola e un numero.";
			$("#dialogEsito").dialog("open");
			$("#btnInvio").prop("disabled", true);
			checkHelp.password=false;
		}
		else
		{
			if(!checkHelp.password)
			{
				checkHelp.password = true;
				$("#btnInvio").prop("disabled", false);
			}
		}
	})
	$("#nome").change(function ()
	{
		var nome=document.getElementById("nome").value;
		if(/\s/.test(nome) || nome.length>50 || !/\b[A-Z]/.test(nome))
		{
			document.getElementById("esitoP").innerHTML = "Nome non può contenere spazi, ha una lunghezza massima di 50 caratteri e la prima lettera deve essre maiuscola.";
			$("#dialogEsito").dialog("open");
			$("#btnInvio").prop("disabled", true);
			checkHelp.nome=false;
		}
		else
		{
			if(!checkHelp.nome)
			{
				checkHelp.nome = true;
				$("#btnInvio").prop("disabled", false);
			}
		}
	})
	$("#cognome").change(function ()
	{
		var cognome=document.getElementById("nome").value;
		if(/\s/.test(cognome) || cognome.length>50 || !/\b[A-Z]/.test(cognome))
		{
			document.getElementById("esitoP").innerHTML = "Cognome non può contenere spazi, ha una lunghezza massima di 50 caratteri e la prima lettera deve essre maiuscola.";
			$("#dialogEsito").dialog("open");
			$("#btnInvio").prop("disabled", true);
			checkHelp.cognome=false;
		}
		else
		{
			if(!checkHelp.cognome)
			{
				checkHelp.cognome = true;
				$("#btnInvio").prop("disabled", false);
			}
		}
	})
	$("#ntelefono").change(function ()
	{
		var telefono=document.getElementById("ntelefono").value;
		if(/\s/.test(telefono) || telefono.length!==10 || !/[0-9]/g.test(telefono))
		{
			document.getElementById("esitoP").innerHTML = "Numero di telefono non può contenere spazi, ha una lunghezza fissata di 10 caratteri e può contenere solo cifre numeriche.";
			$("#dialogEsito").dialog("open");
			$("#btnInvio").prop("disabled", true);
			checkHelp.ntelefono=false;
		}
		else
		{
			if(!checkHelp.ntelefono)
			{
				checkHelp.ntelefono = true;
				$("#btnInvio").prop("disabled", false);
			}
		}
	})
	$("#AddVia").change(function ()
	{
		var via=document.getElementById("AddVia").value;
		if(via.length>50)
		{
			document.getElementById("esitoP").innerHTML = "Via ha una lunghezza massima di 50 caratteri.";
			$("#dialogEsito").dialog("open");
			$("#btnInvio").prop("disabled", true);
			checkHelp.via=false;
		}
		else
		{
			if(!checkHelp.via)
			{
				checkHelp.via = true;
				$("#btnInvio").prop("disabled", false);
			}
		}
	})
	$("#AddCivico").change(function ()
	{
		var civico=document.getElementById("AddCivico").value;
		if(/\s/.test(civico) || !/[0-9]/g.test(civico))
		{
			document.getElementById("esitoP").innerHTML = "Numero civico non può contenere spazi e può contenere solo cifre numeriche.";
			$("#dialogEsito").dialog("open");
			$("#btnInvio").prop("disabled", true);
			checkHelp.numeroCivico=false;
		}
		else
		{
			if(!checkHelp.numeroCivico)
			{
				checkHelp.numeroCivico = true;
				$("#btnInvio").prop("disabled", false);
			}
		}
	})
	$("#AddCitta").change(function ()
	{
		var citta=document.getElementById("AddCitta").value;
		if(citta.length>20 || /[0-9]/.test(citta))
		{
			document.getElementById("esitoP").innerHTML = "Città ha una lunghezza massima di 20 caratteri e non può contenere cifre numeriche.";
			$("#dialogEsito").dialog("open");
			$("#btnInvio").prop("disabled", true);
			checkHelp.numeroCivico=false;
		}
		else
		{
			if(!checkHelp.citta)
			{
				checkHelp.numeroCivico = true;
				$("#btnInvio").prop("disabled", false);
			}
		}
	})
	$("#AddCap").change(function ()
	{
		var cap=document.getElementById("AddCap").value;
		if(/\s/.test(cap) || !/[0-9]/g.test(cap) || cap.length!==5)
		{
			document.getElementById("esitoP").innerHTML = "CAP non può contenere spazi, può contenere solo cifre numeriche e la sua lunghezza è fissata a 5.";
			$("#dialogEsito").dialog("open");
			$("#btnInvio").prop("disabled", true);
			checkHelp.cap=false;
		}
		else
		{
			if(!checkHelp.cap)
			{
				checkHelp.cap = true;
				$("#btnInvio").prop("disabled", false);
			}
		}
	})
	$("#Ncarta").change(function ()
	{
		var nCarta=document.getElementById("Ncarta").value;
		if(/\s/.test(nCarta) && nCarta.length!==12 && !/\b[0-9]/g.test(nCarta))
		{
			document.getElementById("esitoP").innerHTML = "Numero carta non può contenere spazi, può contenere solo cifre numeriche e la sua lunghezza è fissata a 12.";
			$("#dialogEsito").dialog("open");
			$("#btnInvio").prop("disabled", true);
			checkHelp.nCarta=false;
		}
		else
		{
			if(!checkHelp.nCarta)
			{
				checkHelp.nCarta = true;
				$("#btnInvio").prop("disabled", false);
			}
		}
	})
	$("#CVV").change(function ()
	{
		var cvv=document.getElementById("CVV").value;
		if(/\s/.test(cvv) || cvv.length!==3 || !/\b[0-9]/g.test(cvv))
		{
			document.getElementById("esitoP").innerHTML = "CVV non può contenere spazi, può contenere solo cifre numeriche e la sua lunghezza è fissata a 3.";
			$("#dialogEsito").dialog("open");
			$("#btnInvio").prop("disabled", true);
			checkHelp.cvv=false;
		}
		else
		{
			if(!checkHelp.cvv) {
				checkHelp.cvv = true;
				$("#btnInvio").prop("disabled", false);
			}
		}
	})


</script>

</body>
</html>
